<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="./styles.css">
    <title>Youtube downloader</title>
</head>
<body>
    <div id="page-wrapper">
        <header>
            <span id="projectTitle">Youtube downloader and live audio server</span>
            <a href="#about" id="about">About</a>
            <a href="https://lukasz26671.github.io/contact" id="contact">Contact</a>
            <a href="https://lukasz26671.github.io" id="page">My page</a>
        </header>   
        <section class="downloadForm">
            <form action="/download?ID=videoID" method="get">
                <br>
                <label for="ID">Video Id</span></label> <br>
                <input type="text" name="ID" id="ID" maxlength="11" placeholder="" minlength="11"> 
                <select name="TYPE" id="TYPE">
                    <option value="mp3">mp3</option>
                    <option value="mp4">mp4</option>
                </select>
                <button type="submit">Download</button>
                <button type="button" class="stream">Stream</button>
            </form>
            
        </section>
        <footer>
            <div id="notice">
                <p>Note: If you pass a wrong youtube ID somehow, this will be played:</p>
                <audio style="text-align: center; transform:scale(0.5)" controls src="./stream/x30YOmfeVTE?TYPE=mp3"></audio>
            </div>  -
            <br>
            Â©2020 Lukasz26671
        </footer>
    </div>
    <script>
        document.querySelector('.stream').addEventListener('click', ()=> {
            let a = document.getElementById("TYPE").value;
            let i = document.getElementById("ID").value;
            if(i.length != 11) {
                i = "x30YOmfeVTE";
            }
            location.href += (`stream/${i}?TYPE=${a}`);
        })
    </script>
</body>
</html>